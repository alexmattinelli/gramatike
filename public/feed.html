<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Gramatike Feed</title>
  <link href="https://fonts.googleapis.com/css2?family=Mansalva&display=swap" rel="stylesheet">
  <style>
    :root {
      --lilas: #c08adc;
      --roxo: #a06bfa;
      --roxo2: #9a63e3;
      --roxo-grad1: #c08adc;
      --roxo-grad2: #a76bc4;
      --roxo-grad3: #8f6bf4;
      --lilas-light: #fcfbff;
      --shadow-card: 0 4px 24px 4px #bca6df1c, 0 1.5px 3px #c08adc21;
      --shadow-light: 0 2px 9px 1px #dcd0ef57;
      --input-bg: #fff;
    }
    body {
      background: #f6f5fa;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
    }
    /* NAV */
    nav {
      background: linear-gradient(90deg, var(--roxo-grad1) 50%, var(--roxo-grad3) 98%);
      border-bottom-left-radius: 32px;
      border-bottom-right-radius: 32px;
      min-height: 62px;
      box-shadow: var(--shadow-card);
      position: sticky; top: 0; z-index: 100;
    }
    .nav-bar {
      max-width: 1140px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 19px;
      padding: 18px 28px 14px 28px;
      justify-content: flex-start;
    }
    .logo {
      font-family: 'Mansalva', cursive;
      font-size: 28px;
      color: #fff;
      margin-right: 16px;
      letter-spacing: 0.2px;
    }
    .search-bar {
      flex: 1;
      display: flex;
      align-items: center;
      background: var(--input-bg);
      border-radius: 18px;
      box-shadow: var(--shadow-light);
      margin-right: 13px;
      height: 40px;
    }
    .search-bar input {
      border: none;
      border-radius: 18px 0 0 18px;
      padding: 0 16px;
      font-size: 16px;
      outline: none;
      background: transparent;
      flex: 1;
      height: 100%;
      color: #786bb4;
      font-weight: 500;
    }
    .search-bar button {
      background: linear-gradient(80deg,var(--roxo-grad3) 25%, var(--roxo-grad1) 98%);
      border: none;
      color: #fff;
      border-radius: 0 18px 18px 0;
      width: 44px;
      height: 40px;
      font-size: 23px;
      cursor: pointer;
      box-shadow: none;
      display: flex; align-items: center; justify-content: center;
      transition: filter .2s;
    }
    .search-bar button:hover { filter: brightness(1.13); }
    /* NAV actions */
    .nav-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    .nav-btn, .nav-plus {
      background: linear-gradient(90deg, var(--roxo-grad3) 60%, var(--roxo-grad1) 100%);
      color: #fff;
      border: none;
      border-radius: 15px;
      font-size: 23px;
      width: 43px; height: 43px;
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow-card);
      cursor: pointer;
      transition: filter .2s;
      font-weight: 600;
    }
    .nav-btn:hover { filter: brightness(1.17); }
    .user-mini {
      display: flex;
      align-items: center; gap:9px;
    }
    .avatar-circulo {
      width: 38px; height: 38px;
      border-radius: 50%;
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 1px 10px 1px #d0bcf877;
      border: 2.8px solid #f9f7fd;
      box-sizing: border-box;
      transition: box-shadow .14s;
    }
    .avatar-circulo img {
      width: 34px; height: 34px;
      border-radius: 50%; object-fit: cover;
      border: none;
    }
    .user-at {
      font-weight: bold;
      font-size: 15.5px;
      color: #563d7b;
      text-decoration: none;
      background: #efeafd;
      border-radius: 18px;
      padding: 3px 15px 3px 10px;
      letter-spacing: .1px;
      margin-top:2px;
      box-shadow: 0 2px 7px #efdfff1a;
      transition: background .2s;
      display: flex; align-items: center; height: 27px;
    }
    .user-at:hover {
      background: linear-gradient(93deg,#a06bfa12 60%, #ece9fe 98%);
    }
    /* FEED */
    .feed-container {max-width: 700px;margin: 0 auto;}
    .form-card, .post-card {
      background: #fff;
      border-radius: 26px;
      box-shadow: var(--shadow-card);
      margin: 24px 0 0 0;
      padding: 27px 34px 18px 34px;
      display: flex; flex-direction: column; gap: 8px; position: relative;
      border: 1.13px solid #ede2f7;
    }
    .form-card {margin-bottom: -4px;}
    .form-card form {display: flex; flex-direction: column; gap: 10px;}
    .form-card textarea {
      resize: vertical;
      min-height: 70px;
      font-size: 15px;
      border-radius: 16px;
      border: 2px solid #ece5f9;
      padding: 12px;
      font-family: inherit;
      background: #faf8ff;
      color: #222;
      outline: none;
      box-shadow: 0 1px 11px #c08adc15;
      transition: border .2s;
      margin-bottom: 5px;
    }
    .form-card textarea:focus {border-color: var(--roxo-grad2);}
    .form-card button {
      align-self: flex-end;
      background: linear-gradient(90deg, var(--roxo-grad3) 60%, var(--roxo-grad1) 100%);
      color: #fff;
      font-weight: bold;
      font-size: 15px;
      border: none;
      border-radius: 16px;
      padding: 7px 27px;
      cursor: pointer;
      margin-top: 4px;
      box-shadow: 0 2px 14px #beacd941;
      letter-spacing: .2px;
      transition: filter .2s, box-shadow .16s;
    }
    .form-card button:disabled {opacity:.6;}
    .form-card button:hover {filter: brightness(1.14);}
    /* POST CARD */
    .post-header {
      display: flex; align-items: center; gap: 11px; font-size: 15px;
    }
    .post-header .avatar-circulo {width:41px;height:41px;}
    .post-header .avatar-circulo img {width:37px;height:37px;}
    .post-header .user-at {font-size: 16.2px;}
    .post-date {color: #a8a8d0; font-size: 13px; margin-left: 9px;}
    .post-content {margin: 8px 0 2px 0; line-height: 1.7; color:#362a46}
    .post-footer {
      display: flex; align-items: center; gap: 15px; margin-top: 6px;
    }
    .acoes-btn {
      display: flex; align-items: center;
      background: linear-gradient(92deg, #f7f4ff 40%, #efebfa 98%);
      border: 1.5px solid var(--roxo-grad2);
      color: var(--roxo-grad2);
      border-radius: 19px;
      padding: 4px 20px;
      font-size: 15.2px;
      cursor: pointer;
      font-weight: bold;
      transition: background .19s, color .19s;
      box-shadow: 0 2px 10px #c08adc13;
      letter-spacing: .1px;
      outline: none;
      position: relative;
      margin-right: 2px;
      border-bottom-width: 2px;
    }
    .acoes-btn.selected,.acoes-btn:active,.acoes-btn:hover {
      background: linear-gradient(85deg,#c08adc 65%,#a76bc4 100%);
      color: #fff; border-color: #fff;
      filter: brightness(1.03);
    }
    @media (max-width: 900px){.feed-container,.nav-bar{max-width:100vw;}}
    @media (max-width: 600px){
      .post-card, .form-card {padding: 12px 7px;}
      .nav-bar{padding:5px;}
      .post-footer {gap: 7px;}
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-bar">
      <div class="logo">Gramátike</div>
      <form class="search-bar" onsubmit="return false;">
        <input type="text" placeholder="Pesquisar">
        <button type="submit">&#128269;</button>
      </form>
      <div class="nav-actions">
        <button class="nav-btn" title="Nova publicação">+</button>
        <div class="user-mini">
          <a href="/perfil" class="avatar-circulo" id="avatar-link">
            <img src="https://i.pravatar.cc/150?img=13" alt="Seu avatar">
          </a>
          <a href="/perfil" class="user-at" id="user-at">@alex.mattinelli</a>
        </div>
      </div>
    </div>
  </nav>
  <div class="feed-container">
    <div class="form-card">
      <form onsubmit="addPost(event)">
        <textarea id="post-content" maxlength="5000" placeholder="O que você está pensando?"></textarea>
        <button type="submit" id="create-btn">Publicar</button>
      </form>
    </div>
    <div id="posts"></div>
  </div>
  <script>
    // Usuário logado (exemplo)
    const usuarioLogado = {
      username: "alex.mattinelli",
      avatar_url: "https://i.pravatar.cc/150?img=13"
    }
    // Exemplo de posts (ficam abaixo do form)
    const posts = [
      {
        username: "gramatike",
        avatar_url: "https://ui-avatars.com/api/?name=G&size=96&background=c08adc&color=fff",
        data: "05/10/2025 12:17",
        conteudo: `Sejam bem-vindes!\nCaso presenciarem algum erro, relate no Suporte ou aqui nos comentários.\n\n#gramatike #bemvindes`
      },
      {
        username: "alex.mattinelli",
        avatar_url: "https://i.pravatar.cc/150?img=13",
        data: "04/10/2025 22:25",
        conteudo: "boa noite, não bináries! fazendo um test"
      }
    ];
    // Preenche header com usuário logado
    document.getElementById('avatar-link').querySelector('img').src = usuarioLogado.avatar_url;
    document.getElementById('user-at').textContent = "@" + usuarioLogado.username;
    // Render posts no feed
    function renderPosts() {
      let html = "";
      posts.forEach(post => {
        html += `
        <div class="post-card">
          <div class="post-header">
            <div class="avatar-circulo">
              <img src="${post.avatar_url}" alt="avatar autor">
            </div>
            <a class="user-at" href="/usuario/${post.username}">@${post.username}</a>
            <span class="post-date">${post.data}</span>
          </div>
          <div class="post-content">
            ${post.conteudo.replace(/\n/g, "<br>")}
          </div>
          <div class="post-footer">
            <button class="acoes-btn selected">&#10084; Curtir</button>
            <button class="acoes-btn">&#128172; Comentar</button>
            <button class="acoes-btn">...</button>
          </div>
        </div>`;
      });
      document.getElementById("posts").innerHTML = html;
    }
    renderPosts();
    // Publicação do post fake
    function addPost(e){
      e.preventDefault();
      var val = document.getElementById("post-content").value.trim();
      if(!val) return;
      posts.unshift({
        username: usuarioLogado.username,
        avatar_url: usuarioLogado.avatar_url,
        data: new Date().toLocaleDateString("pt-BR") + " " + (new Date().toLocaleTimeString("pt-BR").slice(0,5)),
        conteudo: val
      });
      document.getElementById("post-content").value="";
      renderPosts();
    }
  </script>
</body>
</html>
