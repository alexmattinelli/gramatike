<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Gramatike Feed</title>
  <link href="https://fonts.googleapis.com/css2?family=Mansalva&display=swap" rel="stylesheet">
  <style>
    :root {
      --lilas: #c08adc;
      --roxo: #a76bc4;
      --lilas-light: #f6f5fa;
      --shadow: 0 2px 12px 2px #c08adc33;
    }
    body {
      background: var(--lilas-light);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }
    /* NAV */
    nav {
      background: var(--lilas);
      border-bottom-left-radius: 30px;
      border-bottom-right-radius: 30px;
      min-height: 58px;
      box-shadow: var(--shadow);
      padding: 0 0 6px 0;
      position: sticky; top: 0; z-index: 100;
    }
    .nav-bar {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 24px 10px 24px;
      justify-content: flex-start;
    }
    .nav-bar .logo {
      font-family: 'Mansalva', cursive;
      font-size: 26px;
      color: #fff;
      margin-right: 18px;
    }
    .search-bar {
      flex: 1;
      display: flex;
      align-items: center;
      background: #fff;
      border-radius: 18px;
      box-shadow: var(--shadow);
      margin-right: 14px;
      height: 38px;
    }
    .search-bar input {
      border: none;
      border-radius: 18px 0 0 18px;
      padding: 0 14px;
      font-size: 16px;
      outline: none;
      background: transparent;
      flex: 1;
      height: 100%;
    }
    .search-bar button {
      background: var(--roxo);
      border: none;
      color: #fff;
      border-radius: 0 18px 18px 0;
      width: 44px;
      height: 38px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: none;
    }
    .nav-actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .nav-btn, .nav-plus {
      background: var(--roxo);
      color: #fff;
      border: none;
      border-radius: 14px;
      font-size: 22px;
      width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow);
      cursor: pointer;
      transition: filter .2s;
    }
    .nav-btn:hover, .nav-plus:hover { filter: brightness(1.08); }
    /* avatar @ do usuário logado */
    .user-mini {
      display: flex; align-items: center; gap:8px;
      margin-left: 8px;
    }
    .avatar-circulo {
      width: 36px; height: 36px;
      border-radius: 50%;
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      box-shadow: var(--shadow);
    }
    .avatar-circulo img {
      width: 34px; height: 34px;
      border-radius: 50%; object-fit: cover;
    }
    .user-at {
      font-weight: bold;
      font-size: 15px;
      color: #5c3585;
      margin-top:2px;
      text-decoration: none;
    }
    /* cards do form e dos posts */
    .feed-container {max-width: 700px;margin: 0 auto;}
    .post-card, .form-card {
      background: #fff;
      border-radius: 24px;
      box-shadow: var(--shadow);
      margin: 18px 0;
      padding: 26px 32px 22px 32px;
      display: flex; flex-direction: column;
      gap: 8px;
      position: relative;
    }
    /* header do post */
    .post-header {
      display: flex; align-items: center; gap: 10px;
      font-size: 15px;
    }
    .post-header .avatar-circulo {width:42px;height:42px;}
    .post-header .avatar-circulo img {width:40px;height:40px;}
    .post-header .user-at {font-size: 17px;}
    .post-date {color: #a8a8d0; font-size: 13px; margin-left: 8px;}
    .post-content {margin: 8px 0 2px 0; line-height: 1.7;}
    .post-footer {
      display: flex; align-items: center; gap: 14px; margin-top: 6px;
    }
    .acoes-btn {
      display: flex; align-items: center; background: #fff;
      border: 1.5px solid var(--lilas);
      color: var(--lilas);
      border-radius: 18px;
      padding: 4px 19px;
      font-size: 15px;
      cursor: pointer;
      font-weight: bold;
      transition: background .2s, color .2s;
      box-shadow: 0 1px 3px #c08adc19;
    }
    .acoes-btn.selected, .acoes-btn:active, .acoes-btn:hover {
      background: linear-gradient(80deg,#c08adc 65%,#a76bc4 102%);
      color: #fff; border-color: #fff;
    }
    /* form postar */
    .form-card form {display: flex; flex-direction: column; gap: 10px;}
    .form-card textarea {
      resize: vertical;
      min-height: 70px;
      font-size: 15px;
      border-radius: 16px;
      border: 1.5px solid #ded0ef;
      padding: 12px;
      font-family: inherit;
      background: #faf8ff;
      color: #222;
      outline: none;
      box-shadow: 0 1px 1px #c08adc13;
      transition: border .2s;
    }
    .form-card textarea:focus {border-color: var(--lilas);}
    .form-card button {
      align-self: flex-end;
      background: linear-gradient(90deg, #c08adc 65%, #a76bc4 102%);
      color: #fff;
      font-weight: bold;
      font-size: 15px;
      border: none;
      border-radius: 16px;
      padding: 7px 26px;
      cursor: pointer;
      box-shadow: 0 1px 4px var(--lilas-light);
      margin-top: 4px;
    }
    .form-card button:disabled {opacity:.6;}
    /* Responsivo */
    @media (max-width: 900px){.feed-container,.nav-bar{max-width:100vw;}}
    @media (max-width: 600px){
      .post-card, .form-card {padding: 12px 8px;}
      .nav-bar{padding:5px;}
    }
    /* Sombra de foco nos cards */
    .post-card:focus-within, .form-card:focus-within {box-shadow: 0 2px 28px 6px #a76bc41b;}
  </style>
</head>
<body>
  <nav>
    <div class="nav-bar">
      <div class="logo">Gramátike</div>
      <form class="search-bar" onsubmit="return false;">
        <input type="text" placeholder="Pesquisar">
        <button type="submit">&#128269;</button>
      </form>
      <div class="nav-actions">
        <button class="nav-btn" title="Nova publicação">+</button>
        <div class="user-mini">
          <a href="/perfil" class="avatar-circulo" id="avatar-link">
            <img src="https://i.pravatar.cc/150?img=13" alt="Seu avatar">
          </a>
          <a href="/perfil" class="user-at" id="user-at">@alex.mattinelli</a>
        </div>
      </div>
    </div>
  </nav>
  <div class="feed-container">
    <div class="form-card">
      <form onsubmit="addPost(event)">
        <textarea id="post-content" maxlength="5000" placeholder="O que você está pensando?"></textarea>
        <button type="submit" id="create-btn">Publicar</button>
      </form>
    </div>
    <!-- Os posts serão inseridos aqui pelo JS -->
    <div id="posts"></div>
  </div>
  <script>
    // USUÁRIO LOGADO (simulação)
    const usuarioLogado = {
      username: "alex.mattinelli",
      avatar_url: "https://i.pravatar.cc/150?img=13"
    }
    // Exemplo de posts
    const posts = [
      {
        username: "gramatike",
        avatar_url: "https://ui-avatars.com/api/?name=G&size=96&background=c08adc&color=fff",
        data: "05/10/2025 12:17",
        conteudo: `Sejam bem-vindes!\nCaso presenciarem algum erro, relate no Suporte ou aqui nos comentários.\n\n#gramatike #bemvindes`
      },
      {
        username: "alex.mattinelli",
        avatar_url: "https://i.pravatar.cc/150?img=13",
        data: "04/10/2025 22:25",
        conteudo: "boa noite, não bináries! fazendo um test"
      }
    ];
    // Preenche header com usuário logado
    document.getElementById('avatar-link').querySelector('img').src = usuarioLogado.avatar_url;
    document.getElementById('user-at').textContent = "@" + usuarioLogado.username;
    // Render posts no feed
    function renderPosts() {
      let html = "";
      posts.forEach(post => {
        html += `
        <div class="post-card">
          <div class="post-header">
            <div class="avatar-circulo">
              <img src="${post.avatar_url}" alt="avatar autor">
            </div>
            <a class="user-at" href="/usuario/${post.username}">@${post.username}</a>
            <span class="post-date">${post.data}</span>
          </div>
          <div class="post-content">
            ${post.conteudo.replace(/\n/g, "<br>")}
          </div>
          <div class="post-footer">
            <button class="acoes-btn selected">&#10084; Curtir</button>
            <button class="acoes-btn">&#128172; Comentar</button>
            <button class="acoes-btn">!</button>
          </div>
        </div>`;
      });
      document.getElementById("posts").innerHTML = html;
    }
    renderPosts();
    // Publicação do post fake
    function addPost(e){
      e.preventDefault();
      var val = document.getElementById("post-content").value.trim();
      if(!val) return;
      posts.unshift({
        username: usuarioLogado.username,
        avatar_url: usuarioLogado.avatar_url,
        data: new Date().toLocaleDateString("pt-BR") + " " + (new Date().toLocaleTimeString("pt-BR").slice(0,5)),
        conteudo: val
      });
      document.getElementById("post-content").value="";
      renderPosts();
    }
  </script>
</body>
</html>
